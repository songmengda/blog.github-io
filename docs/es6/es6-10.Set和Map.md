# Set和Map
## Set
### 基本用法
Set本身是一个构造函数，用来生成 Set 数据结构。
```js
const s = new Set();
[2, 3, 5, 4, 5, 2, 2].forEach(x => s.add(x));
for (let i of s) {
  console.log(i);
}
// 2 3 5 4
// 通过add()方法向 Set 结构加入成员
```
所以Set可以用来数组去重

### Set实例的属性和方法
Set 结构的实例有以下属性。

- Set.prototype.constructor：构造函数，默认就是Set函数。
- Set.prototype.size：返回Set实例的成员总数。

Set 实例的方法分为两大类：操作方法（用于操作数据）和遍历方法（用于遍历成员）。下面先介绍四个操作方法。

- Set.prototype.add(value)：添加某个值，返回 Set 结构本身。
- Set.prototype.delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。
- Set.prototype.has(value)：返回一个布尔值，表示该值是否为Set的成员。
- Set.prototype.clear()：清除所有成员，没有返回值。

## WeakSet 
### 语法
WeakSet 是一个构造函数，可以使用new命令，创建 WeakSet 数据结构。 可以接受一个数组或类似数组的对象作为参数。

WeakSet 结构有以下三个方法。

- WeakSet.prototype.add(value)：向 WeakSet 实例添加一个新成员。
- WeakSet.prototype.delete(value)：清除 WeakSet 实例的指定成员。
- WeakSet.prototype.has(value)：返回一个布尔值，表示某个值是否在 WeakSet 实例之中。

WeakSet 的一个用处，是储存 DOM 节点，而不用担心这些节点从文档移除时，会引发内存泄漏。

## Map
### 基本用法
为了解决JavaScript 的对象（Object）只能用字符串当作键这个问题,ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。
### 操作方法
**(1)size 属性**

size属性返回 Map 结构的成员总数。

**(2)Map.prototype.set(key, value)**

set方法设置键名key对应的键值为value，然后返回整个 Map 结构。如果key已经有值，则键值会被更新，否则就新生成该键。

**(3)Map.prototype.get(key)**

get方法读取key对应的键值，如果找不到key，返回undefined。

**(4)Map.prototype.has(key)**

has方法返回一个布尔值，表示某个键是否在当前 Map 对象之中。

**(5)Map.prototype.delete(key)**

delete方法删除某个键，返回true。如果删除失败，返回false。

**(6)Map.prototype.clear()**

clear方法清除所有成员，没有返回值。

## WeakMap
### 介绍
WeakMap结构与Map结构类似，也是用于生成键值对的集合。

WeakMap与Map的区别有两点。
- WeakMap只接受对象作为键名（null除外），不接受其他类型的值作为键名。
- WeakMap的键名所指向的对象，不计入垃圾回收机制。

